{"version":3,"sources":["util/domain.js","context/UsesrContext.js","components/misc/Navbar.js","components/Home/Comments.js","components/Home/Post.js","components/Home/PostUploader.js","components/Home/Home.js","components/Error/Error.js","components/auth/Register.js","components/auth/Login.js","Router.js","App.js","index.js"],"names":["process","UserContext","createContext","UserContextProvider","props","useState","undefined","user","setUser","getUser","a","axios","get","domain","userRes","data","useEffect","Provider","value","children","Navbar","useContext","history","useHistory","push","className","href","onClick","style","color","cursor","to","Comments","comment","email","Post","comments","setComments","writeComment","setWriteComment","likeBtnState","setLikeBtnState","post","likes","length","setLikes","getComments","_id","commentsRes","userId","includes","delete","getPosts","commentData","then","res","console","log","likeData","put","src","postImage","height","width","desc","defaultUrl","map","i","onChange","event","target","PostEditor","editorDescription","setEditorDescription","selectedFile","setSelectedFile","onSubmit","savePost","id","type","placeholder","e","files","closeEditor","preventDefault","postData","FormData","append","setNewPostUploaderOpen","Home","Date","toLocaleDateString","toLocaleTimeString","time","setTime","defaultPosts","setMyPosts","posts","setPosts","newPostUploaderOPen","editPostData","setEditPostData","myPosts","postsRes","editPost","setTimeout","sortedPosts","sort","b","createdAt","renderPosts","Error","message","clear","Register","formEmail","setFormEmail","formPassword","setFormPassword","errorMessage","setErrorMessage","registerData","password","response","err","Login","loginData","Router","exact","path","defaults","withCredentials","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c694f4a6.chunk.js","sourcesContent":["export default process.env.NODE_ENV === \"development\" ? \"http://localhost:3100\" : process.env.NODE_ENV === \"production\" && \"https://image-share-backend.herokuapp.com\"","import axios from 'axios';\nimport React, { createContext, useEffect, useState } from 'react';\nimport domain from '../util/domain';\n\n\nconst UserContext = createContext();\n\nfunction UserContextProvider(props){\n    const [user,setUser] = useState(undefined);\n\n    async function getUser(){\n        const userRes = await axios.get(domain+\"/user/loggedIn\");\n        setUser(userRes.data);\n    }\n\n    useEffect(()=>{\n        getUser();\n    },[]);\n\n    return <UserContext.Provider value={{user,getUser}}>\n        {props.children}\n    </UserContext.Provider>;\n};\n\nexport default UserContext;\nexport {UserContextProvider};","import axios from \"axios\";\nimport React, { useContext } from \"react\";\nimport { Link , useHistory} from \"react-router-dom\";\nimport UserContext from \"../../context/UsesrContext\";\nimport domain from \"../../util/domain\";\nimport \"./navbar.scss\";\n\nfunction Navbar(){\n    // useContext to get a logged in user\n    const{user} = useContext(UserContext);\n    const history = useHistory();\n    \n\n    async function logout(){\n        await axios.get(domain+\"/user/loggedOut\");\n        history.push(\"/login\");\n        \n    };\n    \n    return (\n    <div className=\"navbar\">\n        <div className=\"logo\"><a href=\"/\">\n            <h1>Home</h1>\n        </a></div>\n        \n        {!user ? (<div className=\"auths\">\n            \n                \n                <Link to=\"/login\">\n                    <h2>Login</h2>\n                </Link>\n                <Link to=\"/register\">\n                    <h2>Register</h2>\n                </Link>\n            \n            \n        </div>):( <button onClick={logout} style={{color: \"red\",cursor:\"pointer\"}}>Log Out</button>)}\n                \n    </div>\n    );\n}\n\nexport default Navbar;","import React from 'react';\nimport './comments.scss';\n\nfunction Comments(props){\n    return <div className=\"indi-comment\">\n                <div className=\"comment-box\">\n                    <div className=\"comment-by\">{props.comment.email} said:</div>\n                    <div className=\"comment-container\">{props.comment.comment}</div>\n                </div>\n    </div> ;\n}\n\nexport default Comments;","/* eslint-disable jsx-a11y/alt-text */\nimport React ,{useState, useEffect} from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport \"./Post.scss\";\nimport Comment from './Comments'\nimport domain from '../../util/domain';\n\nfunction Post(props){\n    const [comments, setComments] = useState([]);\n    const user = props.user;\n    const [writeComment, setWriteComment] = useState(\"\");\n\n    const[likeBtnState, setLikeBtnState] = useState(\"btn-not-like\")\n    const [likes, setLikes] = useState(props.post.likes.length);\n\n    useEffect(() => {\n        // get all the posts here\n        if(user){\n            getComments();\n        }\n        \n    },[]);\n\n    //to get all the posts\n    async function getComments(){\n\n        const commentsRes = await axios.get(domain+\"/comments/\"+props.post._id);\n        if (props.post.likes.includes( await user.userId)){\n            setLikeBtnState(\"btn-like\");\n        };\n        //console.log(commentsRes.data)\n        setComments(commentsRes.data)\n    }\n\n    async function deletePost(){\n        await axios.delete(domain+'/posts/'+props.post._id);\n\n        props.getPosts();\n    };\n\n    function renderComments(){\n        return comments.map((comment, i)=>{\n            return <Comment key={i} comment={comment} getComments={getComments} user={user}/>\n        })\n    }\n\n    function commentHandler(event){\n        setWriteComment(event.target.value);\n    }\n\n    async function postComment(){\n        setWriteComment(\"\");\n        const commentData= {\n            \"comment\":writeComment,\n            \"postId\":props.post._id\n        }\n\n        await axios.post(domain+\"/comments/\"+props.post._id, commentData).then(res=>console.log(res));\n        getComments();\n        \n    }\n\n    async function changeLikeBtnState(){\n        const likeData = {\n            \"postId\":props.post._id,\n            \"userId\":user.userId\n        }\n        if(likeBtnState===\"btn-not-like\"){\n            setLikeBtnState(\"btn-like\");\n            await axios.put(domain+\"/posts/like\",likeData);\n            props.getPosts();\n            setLikes(likes+1);\n        }\n        else if(likeBtnState===\"btn-like\"){\n            setLikeBtnState(\"btn-not-like\");\n            await axios.put(domain+\"/posts/unlike\",likeData);\n            props.getPosts();\n            setLikes(likes-1);\n        };\n        \n    }\n\n\n    return <div className=\"post\">\n        <div className=\"left\">\n        {props.post.email && <h2 className=\"name\"><Link to=\"#\">{props.post.email}</Link></h2>}\n        <img className=\"image\" src={domain+\"/\"+props.post.postImage} height=\"400\" width=\"300\"></img>\n        {user && (<button className={likeBtnState} onClick={changeLikeBtnState}>Likes :{likes}</button>)}\n        {props.post.desc && <h2 className=\"desc\">{props.post.desc}</h2>}\n        {props.defaultUrl!==domain+'/posts/' &&<button className=\"btn-delete\" onClick={deletePost}>Delete Post</button>}\n        \n        </div>\n        <div className=\"right\">\n                <div className=\"comments\">Comments\n                    {renderComments()}\n                </div>\n                {user && (<div className=\"add-comments\">Add Comments\n                    <textarea className=\"comment-input\" onChange={commentHandler} value={writeComment} />\n                    <button className=\"btn-comment\" onClick={postComment}>Post Comment</button>\n                </div>)}\n        </div>\n    </div>\n}\n\nexport default Post;","import React , {useState} from 'react';\nimport axios from 'axios';\nimport \"./post-uploader.scss\"\nimport domain from '../../util/domain';\n\nfunction PostEditor(props){\n    const [editorDescription, setEditorDescription] = useState(\"\");\n    const [selectedFile, setSelectedFile] = useState(undefined)\n\n    function fileUploadHandler(event){\n        console.log(event.target.files[0]);\n        setSelectedFile(event.target.files[0]);\n    }\n\n    return (\n        <div className=\"post-editor\">\n                <form onSubmit={savePost}>\n                    <textarea id=\"editor-description\" type=\"text\" placeholder=\"Enter some description here\" value={editorDescription} onChange={(e)=>setEditorDescription(e.target.value)}/>\n                    <input id=\"editor-upload\" type=\"file\" onChange={fileUploadHandler}/>\n\n                </form>\n                <button className=\"btn-upload\" type=\"submit\" onClick={savePost}>Upload Post</button><button className=\"btn-cancel\" type=\"button\" onClick={closeEditor}>Cancel</button>\n            </div>\n    )\n    async function savePost(e){\n        e.preventDefault();\n    \n        const postData = new FormData();\n        postData.append('desc',editorDescription);\n        postData.append('postImage',selectedFile);\n        console.log(postData);\n        await axios.post(domain+\"/posts/\", postData).then(res=>console.log(res));\n    \n        props.getPosts();\n        closeEditor();\n    }\n    function closeEditor(){\n        props.setNewPostUploaderOpen(false);\n        setEditorDescription(\"\");\n        setSelectedFile(undefined);\n    }\n}\n\n\n\n\n\n\n\nexport default PostEditor;","import axios from 'axios';\nimport React, { useContext, useEffect, useState } from 'react';\nimport Post from './Post'\nimport PostEditor from './PostUploader';\nimport \"./home.scss\";\nimport UserContext from '../../context/UsesrContext';\nimport { Link } from 'react-router-dom';\nimport domain from '../../util/domain';\n\nfunction Home(){\n    const {user} = useContext(UserContext);\n\n    const global = domain+'/posts/';\n\n    const [time, setTime] = useState(new Date().toLocaleDateString()+\" \"+new Date().toLocaleTimeString())\n    const [defaultPosts, setMyPosts] = useState(global); //get global posts >>> get personal posts\n    const [posts, setPosts] = useState([]);\n    const [newPostUploaderOPen, setNewPostUploaderOpen] = useState(false); // cannot upload without logging in >>> can upload after\n    const [editPostData, setEditPostData] = useState(null); // cannot edit your post without logging in >>> can do it after\n\n    //update time\n    setTimeout(() => {\n        setTime(new Date().toLocaleDateString()+\" \"+new Date().toLocaleTimeString());\n    }, 1000);\n\n    // get the requested posts (global or personal everytime a new post is added);   \n    useEffect(() => {\n        // get all the posts here\n        getPosts();\n    },[defaultPosts]);\n\n    // to get user specific posts\n    function myPosts(){\n        setMyPosts(domain+\"/user?email=\"+user.email);\n        //getPosts();\n    }\n\n    //to get all the posts\n    async function getPosts(){\n        const postsRes = await axios.get(defaultPosts)\n        console.log(postsRes.data)\n        setPosts(postsRes.data)\n    }\n\n    // to edit the post data\n    function editPost(postData){\n        setEditPostData(postData);\n    }\n\n    // render posts from Post component\n    function renderPosts(){\n        let sortedPosts = [...posts];\n        sortedPosts = sortedPosts.sort((a, b)=>{\n            return new Date(b.createdAt) - new Date(a.createdAt)\n        })\n        return sortedPosts.map((post, i)=>{\n            return <Post key={i} post={post} defaultUrl = {defaultPosts} getPosts={getPosts} editPost={editPost} user={user} myPosts={myPosts} setMyPosts={setMyPosts}/>\n        })\n    }\n\n    \n    \n    // render the hoome page\n    return <div className=\"home\">\n        {/* {terinary statements to determine whether a user is logged in on not} */}\n        {user ?(<div className=\"current-user\"><div>Welcome {user.email}</div><div>{time}</div></div>):(<div className=\"current-user\">Please <Link to=\"/login\">Log-in</Link> to like and comment</div>)}\n        {!newPostUploaderOPen && user && <button className=\"btn-add-post\" onClick={()=>setNewPostUploaderOpen(true)}>\n            Add Post\n            </button>}\n            {user && <button className=\"btn-my-post\" onClick={myPosts}>My Posts</button>}\n            {newPostUploaderOPen && <PostEditor setNewPostUploaderOpen={setNewPostUploaderOpen} getPosts={getPosts} editPostData={editPostData} /> }\n        {renderPosts()}\n    </div>\n}\n\nexport default Home;","import React from 'react';\nimport './error.scss';\n\nfunction Error(props){\n    return <div className=\"msg-error\">\n        {props.message} <button onClick={props.clear}>Clear</button>\n    </div>\n}\n\nexport default Error","import axios from 'axios';\nimport React , {useState} from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport domain from '../../util/domain';\nimport Error from '../Error/Error'\nimport \"./AuthForm.scss\";\n\nfunction Register(){\n\n    const [formEmail, setFormEmail] = useState(\"\");\n    const [formPassword, setFormPassword] = useState(\"\");\n    const [errorMessage, setErrorMessage]= useState(null);\n    const history = useHistory();\n\n    async function register(e){\n        e.preventDefault();\n\n        const registerData = {\n            email: formEmail,\n            password: formPassword\n        }\n\n       try{ await axios.post(domain+\"/user/signup\", registerData);}\n       catch(err){\n        if(err.response){\n            if(err.response.data.message){\n                setErrorMessage(err.response.data.message)\n            }\n        }\n        return console.log({err})\n    };\n        history.push(\"/login\");\n    }\n\n    return <div className=\"auth-form\">\n        <h2>Register</h2>\n        {errorMessage && <Error message={errorMessage} clear={()=>setErrorMessage(null)} />}\n        <form className=\"form\" onSubmit={register}>\n            <input type=\"email\" placeholder=\"enter your email here\" value={formEmail} onChange={(e)=> setFormEmail(e.target.value)}/>\n            <input type=\"password\" placeholder=\"set a password\" value={formPassword} onChange={(e)=> setFormPassword(e.target.value)}/>\n            <button className=\"btn-action\" type=\"submit\">Register</button>\n        </form>\n        <p>Already Have an account ? <Link to=\"/login\">Login here</Link> </p>\n    </div>\n}\n\nexport default Register;","import axios from 'axios';\nimport React , {useContext, useState} from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport UserContext from '../../context/UsesrContext';\nimport Error from '../Error/Error';\nimport domain from '../../util/domain'\nimport \"./AuthForm.scss\"\n\nfunction Login(){\n\n    const [formEmail, setFormEmail] = useState(\"\");\n    const [formPassword, setFormPassword] = useState(\"\");\n    const history = useHistory();\n    const {getUser} = useContext(UserContext);\n    const [errorMessage, setErrorMessage]= useState(null);\n\n    async function login(e){\n        e.preventDefault();\n\n        const loginData = {\n            email: formEmail,\n            password: formPassword\n        }\n\n        try \n        {await axios.post(domain+\"/user/login\", loginData)}\n        catch(err){\n            if(err.response){\n                if(err.response.data.message){\n                    setErrorMessage(err.response.data.message)\n                }\n            }\n            return console.log({err})\n        };\n        await getUser();\n        history.push(\"/\");\n\n    }\n\n    return <div className=\"auth-form\">\n        <h2>Login</h2>\n        {errorMessage && <Error message={errorMessage} clear={()=>setErrorMessage(null)} />}\n        <form className=\"form\" onSubmit={login}>\n            <input type=\"email\" placeholder=\"enter your email here\" value={formEmail} onChange={(e)=> setFormEmail(e.target.value)}/>\n            <input type=\"password\" placeholder=\"enter password\" value={formPassword} onChange={(e)=> setFormPassword(e.target.value)}/>\n            <button className=\"btn-action\" type=\"submit\">Log In</button>\n        </form>\n        <p>Don't have an account ? <Link to=\"/register\">Sign up here !</Link> </p>\n    </div>\n}\n\nexport default Login","import React from 'react';\nimport {BrowserRouter, Route, Switch} from \"react-router-dom\"\nimport Navbar from './components/misc/Navbar';\nimport Home from './components/Home/Home'\nimport Register from './components/auth/Register';\nimport Login from './components/auth/Login';\n\nfunction Router(){\n    return (\n    <BrowserRouter>\n    <Navbar />\n        <Switch>\n            <Route exact path=\"/\"><Home /></Route>\n            <Route path=\"/login\"><Login /></Route>\n            <Route path=\"/register\"><Register /></Route>\n        </Switch>\n    </BrowserRouter>\n    )\n}\n\nexport default Router;\n","import axios from 'axios';\nimport React from 'react';\nimport { UserContextProvider } from './context/UsesrContext';\nimport Router from './Router';\nimport \"./style/index.scss\";\n\naxios.defaults.withCredentials=true;\n\nfunction App(){\n    return (\n        <UserContextProvider>\n            <div className=\"container\">\n                <Router />\n            </div>\n        </UserContextProvider>\n    )\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport \"./style.css\"\nimport App from \"./App\"\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}